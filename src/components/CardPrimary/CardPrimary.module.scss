@use "cui-mixins" as mixins;
@use "cui-variants" as variants;

// Icon styles with composes - overrides Icon's default size
.cuiIconSm {
  composes: cuiIconWrapper from "../Icon/Icon.module.scss";
  width: var(--click-card-primary-size-icon-sm-all);
  height: var(--click-card-primary-size-icon-sm-all);
}

.cuiIconMd {
  composes: cuiIconWrapper from "../Icon/Icon.module.scss";
  width: var(--click-card-primary-size-icon-md-all);
  height: var(--click-card-primary-size-icon-md-all);
}

.cuiWrapper {
  @include mixins.cuiCardBase;

  background-color: var(--click-card-primary-color-background-default);
  border-radius: var(--click-card-primary-radii-all);
  border: 1px solid var(--click-card-primary-color-stroke-default);
  display: flex;
  width: 100%;
  max-width: 100%;
  flex-direction: column;
  box-shadow: none;

  &.cuiHasShadow {
    box-shadow: var(--shadow-1);
  }

  // Size variants - using :where() for low specificity
  @include variants.variant("cuiSizeSm") {
    padding: var(--click-card-primary-space-sm-x) var(--click-card-primary-space-sm-y);
    gap: var(--click-card-primary-space-sm-gap);
  }

  @include variants.variant("cuiSizeMd") {
    padding: var(--click-card-primary-space-md-x) var(--click-card-primary-space-md-y);
    gap: var(--click-card-primary-space-md-gap);
  }

  // Align variants - using :where() for low specificity
  @include variants.variant("cuiAlignStart") {
    text-align: left;
  }

  @include variants.variant("cuiAlignCenter") {
    text-align: center;
  }

  @include variants.variant("cuiAlignEnd") {
    text-align: right;
  }

  &:hover,
  &:focus {
    background-color: var(--click-card-secondary-color-background-hover);
    cursor: pointer;

    button {
      background-color: var(--click-button-basic-color-primary-background-hover);
      border-color: var(--click-button-basic-color-primary-stroke-hover);

      &:active {
        background-color: var(--click-button-basic-color-primary-background-active);
        border-color: var(--click-button-basic-color-primary-stroke-active);
      }
    }
  }

  &:active {
    border-color: var(--click-button-basic-color-primary-stroke-active);
  }

  &.cuiIsSelected {
    border-color: var(--click-button-basic-color-primary-stroke-active);
  }

  &[aria-disabled="true"],
  &[aria-disabled="true"]:hover,
  &[aria-disabled="true"]:focus,
  &[aria-disabled="true"]:active {
    pointer-events: none;
    background-color: var(--click-card-primary-color-background-disabled);
    color: var(--click-card-primary-color-title-disabled);
    border: 1px solid var(--click-card-primary-color-stroke-disabled);
    cursor: not-allowed;

    button {
      background-color: var(--click-button-basic-color-primary-background-disabled);
      border-color: var(--click-button-basic-color-primary-stroke-disabled);

      &:active {
        background-color: var(--click-button-basic-color-primary-background-disabled);
        border-color: var(--click-button-basic-color-primary-stroke-disabled);
      }
    }
  }
}

.cuiHeader {
  display: flex;
  flex-direction: column;

  // Align variants - using :where() for low specificity
  @include variants.variant("cuiAlignStart") {
    align-items: flex-start;
  }

  @include variants.variant("cuiAlignCenter") {
    align-items: center;
  }

  @include variants.variant("cuiAlignEnd") {
    align-items: flex-end;
  }

  // Size variants - using :where() for low specificity
  @include variants.variant("cuiSizeSm") {
    gap: var(--click-card-primary-space-sm-gap);
  }

  @include variants.variant("cuiSizeMd") {
    gap: var(--click-card-primary-space-md-gap);
  }

  h3 {
    color: var(--global-color-text-default);
  }

  &.cuiDisabled h3 {
    color: var(--global-color-text-muted);
  }

  // Icon wrapper sizing (applies to Icon component wrapper)
  .cuiSizeSm {
    height: var(--click-card-primary-size-icon-sm-all);
    width: var(--click-card-primary-size-icon-sm-all);
  }

  .cuiSizeMd {
    height: var(--click-card-primary-size-icon-md-all);
    width: var(--click-card-primary-size-icon-md-all);
  }

  // Direct img sizing (for iconUrl prop)
  img {
    &.cuiSizeSm {
      height: var(--click-card-primary-size-icon-sm-all);
      width: var(--click-card-primary-size-icon-sm-all);
    }

    &.cuiSizeMd {
      height: var(--click-card-primary-size-icon-md-all);
      width: var(--click-card-primary-size-icon-md-all);
    }
  }
}

.cuiContent {
  width: 100%;
  display: flex;
  flex-direction: column;
  flex: 1;

  // Align variants - using :where() for low specificity
  @include variants.variant("cuiAlignStart") {
    align-self: flex-start;
  }

  @include variants.variant("cuiAlignCenter") {
    align-self: center;
  }

  @include variants.variant("cuiAlignEnd") {
    align-self: flex-end;
  }

  // Size variants - using :where() for low specificity
  @include variants.variant("cuiSizeSm") {
    gap: var(--click-card-primary-space-sm-gap);
  }

  @include variants.variant("cuiSizeMd") {
    gap: var(--click-card-primary-space-md-gap);
  }
}
