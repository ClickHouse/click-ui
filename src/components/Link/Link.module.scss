@use "cui-mixins" as mixins;
@use "cui-variants" as variants;

/* Local module classes (used by Link component) */
.cuiLink {
  margin: 0;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  color: tokens.$clickGlobalColorTextLinkDefault;

  &:hover,
  &:focus {
    color: tokens.$clickGlobalColorTextLinkHover;
    transition: var(--transition-default);
    text-decoration: underline;
    cursor: pointer;
  }

  &:visited {
    color: tokens.$clickGlobalColorTextLinkDefault;
  }

  /* Size variants */
  @include variants.variants('cuiXs', 'cuiSm') {
    font: var(--typography-styles-product-text-normal-xs);
    gap: tokens.$clickLinkSpaceSmGap;
    margin-right: tokens.$clickLinkSpaceSmGap;
  }

  @include variants.variant('cuiMd') {
    font: var(--typography-styles-product-text-normal-md);
    gap: tokens.$clickLinkSpaceMdGap;
    margin-right: tokens.$clickLinkSpaceMdGap;
  }

  @include variants.variant('cuiLg') {
    font: var(--typography-styles-product-text-normal-lg);
    gap: tokens.$clickLinkSpaceMdGap;
    margin-right: tokens.$clickLinkSpaceMdGap;
  }

  @include variants.variant('cuiXl') {
    font: var(--typography-styles-product-text-normal-xl);
    gap: tokens.$clickLinkSpaceMdGap;
    margin-right: tokens.$clickLinkSpaceMdGap;
  }

  /* Weight variants with size combinations */
  @include variants.variant('cuiWeightBold') {
    @include variants.variants('cuiXs', 'cuiSm') {
      font: var(--typography-styles-product-text-bold-xs);
    }
    @include variants.variant('cuiMd') {
      font: var(--typography-styles-product-text-bold-md);
    }
    @include variants.variant('cuiLg') {
      font: var(--typography-styles-product-text-bold-lg);
    }
    @include variants.variant('cuiXl') {
      font: var(--typography-styles-product-text-bold-xl);
    }
  }

  @include variants.variant('cuiWeightSemibold') {
    @include variants.variants('cuiXs', 'cuiSm') {
      font: var(--typography-styles-product-text-semibold-xs);
    }
    @include variants.variant('cuiMd') {
      font: var(--typography-styles-product-text-semibold-md);
    }
    @include variants.variant('cuiLg') {
      font: var(--typography-styles-product-text-semibold-lg);
    }
    @include variants.variant('cuiXl') {
      font: var(--typography-styles-product-text-semibold-xl);
    }
  }

  @include variants.variant('cuiWeightMedium') {
    @include variants.variants('cuiXs', 'cuiSm') {
      font: var(--typography-styles-product-text-medium-xs);
    }
    @include variants.variant('cuiMd') {
      font: var(--typography-styles-product-text-medium-md);
    }
    @include variants.variant('cuiLg') {
      font: var(--typography-styles-product-text-medium-lg);
    }
    @include variants.variant('cuiXl') {
      font: var(--typography-styles-product-text-medium-xl);
    }
  }
}

/* Global classes for external usage (e.g., React Router, Next.js links) */
/* Use linkClasses() helper or LINK_CLASSES constants to apply these */
:global {
  .cui-link {
    margin: 0;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    color: tokens.$clickGlobalColorTextLinkDefault;

    &:hover,
    &:focus {
      color: tokens.$clickGlobalColorTextLinkHover;
      transition: var(--transition-default);
      text-decoration: underline;
      cursor: pointer;
    }

    &:visited {
      color: tokens.$clickGlobalColorTextLinkDefault;
    }

    /* Size: xs */
    &.cui-link-xs {
      font: var(--typography-styles-product-text-normal-xs);
      gap: tokens.$clickLinkSpaceSmGap;
      margin-right: tokens.$clickLinkSpaceSmGap;
    }

    /* Size: sm */
    &.cui-link-sm {
      font: var(--typography-styles-product-text-normal-sm);
      gap: tokens.$clickLinkSpaceSmGap;
      margin-right: tokens.$clickLinkSpaceSmGap;
    }

    /* Size: md (default) */
    &.cui-link-md {
      font: var(--typography-styles-product-text-normal-md);
      gap: tokens.$clickLinkSpaceMdGap;
      margin-right: tokens.$clickLinkSpaceMdGap;
    }

    /* Size: lg */
    &.cui-link-lg {
      font: var(--typography-styles-product-text-normal-lg);
      gap: tokens.$clickLinkSpaceMdGap;
      margin-right: tokens.$clickLinkSpaceMdGap;
    }

    /* Size: xl */
    &.cui-link-xl {
      font: var(--typography-styles-product-text-normal-xl);
      gap: tokens.$clickLinkSpaceMdGap;
      margin-right: tokens.$clickLinkSpaceMdGap;
    }

    /* Weight: bold */
    &.cui-link-weight-bold {
      &.cui-link-xs,
      &.cui-link-sm {
        font: var(--typography-styles-product-text-bold-xs);
      }
      &.cui-link-md {
        font: var(--typography-styles-product-text-bold-md);
      }
      &.cui-link-lg {
        font: var(--typography-styles-product-text-bold-lg);
      }
      &.cui-link-xl {
        font: var(--typography-styles-product-text-bold-xl);
      }
    }

    /* Weight: semibold */
    &.cui-link-weight-semibold {
      &.cui-link-xs,
      &.cui-link-sm {
        font: var(--typography-styles-product-text-semibold-xs);
      }
      &.cui-link-md {
        font: var(--typography-styles-product-text-semibold-md);
      }
      &.cui-link-lg {
        font: var(--typography-styles-product-text-semibold-lg);
      }
      &.cui-link-xl {
        font: var(--typography-styles-product-text-semibold-xl);
      }
    }

    /* Weight: medium */
    &.cui-link-weight-medium {
      &.cui-link-xs,
      &.cui-link-sm {
        font: var(--typography-styles-product-text-medium-xs);
      }
      &.cui-link-md {
        font: var(--typography-styles-product-text-medium-md);
      }
      &.cui-link-lg {
        font: var(--typography-styles-product-text-medium-lg);
      }
      &.cui-link-xl {
        font: var(--typography-styles-product-text-medium-xl);
      }
    }
  }
}

.cuiIconWrapper {
  .cuiExternalIcon {
    @include variants.variant('cuiSm') {
      height: tokens.$clickLinkIconSizeSmHeight;
      width: tokens.$clickLinkIconSizeSmWidth;
    }

    @include variants.variant('cuiMd') {
      height: tokens.$clickLinkIconSizeMdHeight;
      width: tokens.$clickLinkIconSizeMdWidth;
    }
  }
}
