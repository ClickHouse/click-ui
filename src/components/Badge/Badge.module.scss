@use "cui-mixins" as mixins;
@use "cui-variants" as variants;

// Base wrapper styles - using variant mixins for modern CSS
.cuiWrapper {
  display: inline-flex;
  border-radius: var(--click-badge-radii-all);

  // Size variants
  @include variants.variant('cuiSizeSm') {
    padding: var(--click-badge-space-sm-y) var(--click-badge-space-sm-x);
    font: var(--click-badge-typography-label-sm-default);
  }

  @include variants.variant('cuiSizeMd') {
    padding: var(--click-badge-space-md-y) var(--click-badge-space-md-x);
    font: var(--click-badge-typography-label-md-default);
  }

  // Type and state combinations - opaque
  @include variants.variant('cuiTypeOpaque') {
    @include variants.variant('cuiStateDefault') {
      background-color: var(--click-badge-opaque-color-background-default);
      color: var(--click-badge-opaque-color-text-default);
      border: var(--click-badge-stroke) solid var(--click-badge-opaque-color-stroke-default);
    }

    @include variants.variant('cuiStateSuccess') {
      background-color: var(--click-badge-opaque-color-background-success);
      color: var(--click-badge-opaque-color-text-success);
      border: var(--click-badge-stroke) solid var(--click-badge-opaque-color-stroke-success);
    }

    @include variants.variant('cuiStateNeutral') {
      background-color: var(--click-badge-opaque-color-background-neutral);
      color: var(--click-badge-opaque-color-text-neutral);
      border: var(--click-badge-stroke) solid var(--click-badge-opaque-color-stroke-neutral);
    }

    @include variants.variant('cuiStateDanger') {
      background-color: var(--click-badge-opaque-color-background-danger);
      color: var(--click-badge-opaque-color-text-danger);
      border: var(--click-badge-stroke) solid var(--click-badge-opaque-color-stroke-danger);
    }

    @include variants.variant('cuiStateDisabled') {
      background-color: var(--click-badge-opaque-color-background-disabled);
      color: var(--click-badge-opaque-color-text-disabled);
      border: var(--click-badge-stroke) solid var(--click-badge-opaque-color-stroke-disabled);
    }

    @include variants.variant('cuiStateWarning') {
      background-color: var(--click-badge-opaque-color-background-warning);
      color: var(--click-badge-opaque-color-text-warning);
      border: var(--click-badge-stroke) solid var(--click-badge-opaque-color-stroke-warning);
    }

    @include variants.variant('cuiStateInfo') {
      background-color: var(--click-badge-opaque-color-background-info);
      color: var(--click-badge-opaque-color-text-info);
      border: var(--click-badge-stroke) solid var(--click-badge-opaque-color-stroke-info);
    }
  }

  // Type and state combinations - solid
  @include variants.variant('cuiTypeSolid') {
    @include variants.variant('cuiStateDefault') {
      background-color: var(--click-badge-solid-color-background-default);
      color: var(--click-badge-solid-color-text-default);
      border: var(--click-badge-stroke) solid var(--click-badge-solid-color-stroke-default);
    }

    @include variants.variant('cuiStateSuccess') {
      background-color: var(--click-badge-solid-color-background-success);
      color: var(--click-badge-solid-color-text-success);
      border: var(--click-badge-stroke) solid var(--click-badge-solid-color-stroke-success);
    }

    @include variants.variant('cuiStateNeutral') {
      background-color: var(--click-badge-solid-color-background-neutral);
      color: var(--click-badge-solid-color-text-neutral);
      border: var(--click-badge-stroke) solid var(--click-badge-solid-color-stroke-neutral);
    }

    @include variants.variant('cuiStateDanger') {
      background-color: var(--click-badge-solid-color-background-danger);
      color: var(--click-badge-solid-color-text-danger);
      border: var(--click-badge-stroke) solid var(--click-badge-solid-color-stroke-danger);
    }

    @include variants.variant('cuiStateDisabled') {
      background-color: var(--click-badge-solid-color-background-disabled);
      color: var(--click-badge-solid-color-text-disabled);
      border: var(--click-badge-stroke) solid var(--click-badge-solid-color-stroke-disabled);
    }

    @include variants.variant('cuiStateWarning') {
      background-color: var(--click-badge-solid-color-background-warning);
      color: var(--click-badge-solid-color-text-warning);
      border: var(--click-badge-stroke) solid var(--click-badge-solid-color-stroke-warning);
    }

    @include variants.variant('cuiStateInfo') {
      background-color: var(--click-badge-solid-color-background-info);
      color: var(--click-badge-solid-color-text-info);
      border: var(--click-badge-stroke) solid var(--click-badge-solid-color-stroke-info);
    }
  }
}

// Content container - inherits sizing from wrapper
.cuiContent {
  display: inline-flex;
  align-items: center;
  max-width: 100%;
  justify-content: flex-start;
}

// Size-specific gap using parent class selectors
.cuiWrapper {
  @include variants.variant('cuiSizeSm') {
    .cuiContent {
      gap: var(--click-badge-space-sm-gap);
    }
  }

  @include variants.variant('cuiSizeMd') {
    .cuiContent {
      gap: var(--click-badge-space-md-gap);
    }
  }
}

// Badge content wrapper
.cuiBadgeContent {
  width: auto;
  overflow: hidden;

  svg {
    gap: inherit;
  }
}

// Icon size and color variants using parent wrapper classes
.cuiWrapper {
  // Icon size variants
  @include variants.variant('cuiSizeSm') {
    .cuiBadgeContent svg {
      height: var(--click-badge-icon-sm-size-height);
      width: var(--click-badge-icon-sm-size-width);
    }
  }

  @include variants.variant('cuiSizeMd') {
    .cuiBadgeContent svg {
      height: var(--click-badge-icon-md-size-height);
      width: var(--click-badge-icon-md-size-width);
    }
  }

  // Icon color variants for opaque type
  @include variants.variant('cuiTypeOpaque') {
    @include variants.variant('cuiStateDefault') {
      .cuiBadgeContent svg {
        color: var(--click-badge-opaque-color-text-default);
      }
    }

    @include variants.variant('cuiStateSuccess') {
      .cuiBadgeContent svg {
        color: var(--click-badge-opaque-color-text-success);
      }
    }

    @include variants.variant('cuiStateNeutral') {
      .cuiBadgeContent svg {
        color: var(--click-badge-opaque-color-text-neutral);
      }
    }

    @include variants.variant('cuiStateDanger') {
      .cuiBadgeContent svg {
        color: var(--click-badge-opaque-color-text-danger);
      }
    }

    @include variants.variant('cuiStateDisabled') {
      .cuiBadgeContent svg {
        color: var(--click-badge-opaque-color-text-disabled);
      }
    }

    @include variants.variant('cuiStateWarning') {
      .cuiBadgeContent svg {
        color: var(--click-badge-opaque-color-text-warning);
      }
    }

    @include variants.variant('cuiStateInfo') {
      .cuiBadgeContent svg {
        color: var(--click-badge-opaque-color-text-info);
      }
    }
  }

  // Icon color variants for solid type
  @include variants.variant('cuiTypeSolid') {
    @include variants.variant('cuiStateDefault') {
      .cuiBadgeContent svg {
        color: var(--click-badge-solid-color-text-default);
      }
    }

    @include variants.variant('cuiStateSuccess') {
      .cuiBadgeContent svg {
        color: var(--click-badge-solid-color-text-success);
      }
    }

    @include variants.variant('cuiStateNeutral') {
      .cuiBadgeContent svg {
        color: var(--click-badge-solid-color-text-neutral);
      }
    }

    @include variants.variant('cuiStateDanger') {
      .cuiBadgeContent svg {
        color: var(--click-badge-solid-color-text-danger);
      }
    }

    @include variants.variant('cuiStateDisabled') {
      .cuiBadgeContent svg {
        color: var(--click-badge-solid-color-text-disabled);
      }
    }

    @include variants.variant('cuiStateWarning') {
      .cuiBadgeContent svg {
        color: var(--click-badge-solid-color-text-warning);
      }
    }

    @include variants.variant('cuiStateInfo') {
      .cuiBadgeContent svg {
        color: var(--click-badge-solid-color-text-info);
      }
    }
  }
}

// Close icon container
.cuiCloseIcon {
  // Base styles only
}

// Close icon size and color variants using parent wrapper classes
.cuiWrapper {
  // Size variants
  @include variants.variant('cuiSizeSm') {
    .cuiCloseIcon {
      height: var(--click-badge-icon-sm-size-height);
      width: var(--click-badge-icon-sm-size-width);
    }
  }

  @include variants.variant('cuiSizeMd') {
    .cuiCloseIcon {
      height: var(--click-badge-icon-md-size-height);
      width: var(--click-badge-icon-md-size-width);
    }
  }

  // Color variants for opaque type
  @include variants.variant('cuiTypeOpaque') {
    @include variants.variant('cuiStateDefault') {
      .cuiCloseIcon {
        color: var(--click-badge-opaque-color-text-default);
      }
    }

    @include variants.variant('cuiStateSuccess') {
      .cuiCloseIcon {
        color: var(--click-badge-opaque-color-text-success);
      }
    }

    @include variants.variant('cuiStateNeutral') {
      .cuiCloseIcon {
        color: var(--click-badge-opaque-color-text-neutral);
      }
    }

    @include variants.variant('cuiStateDanger') {
      .cuiCloseIcon {
        color: var(--click-badge-opaque-color-text-danger);
      }
    }

    @include variants.variant('cuiStateDisabled') {
      .cuiCloseIcon {
        color: var(--click-badge-opaque-color-text-disabled);
      }
    }

    @include variants.variant('cuiStateWarning') {
      .cuiCloseIcon {
        color: var(--click-badge-opaque-color-text-warning);
      }
    }

    @include variants.variant('cuiStateInfo') {
      .cuiCloseIcon {
        color: var(--click-badge-opaque-color-text-info);
      }
    }
  }

  // Color variants for solid type
  @include variants.variant('cuiTypeSolid') {
    @include variants.variant('cuiStateDefault') {
      .cuiCloseIcon {
        color: var(--click-badge-solid-color-text-default);
      }
    }

    @include variants.variant('cuiStateSuccess') {
      .cuiCloseIcon {
        color: var(--click-badge-solid-color-text-success);
      }
    }

    @include variants.variant('cuiStateNeutral') {
      .cuiCloseIcon {
        color: var(--click-badge-solid-color-text-neutral);
      }
    }

    @include variants.variant('cuiStateDanger') {
      .cuiCloseIcon {
        color: var(--click-badge-solid-color-text-danger);
      }
    }

    @include variants.variant('cuiStateDisabled') {
      .cuiCloseIcon {
        color: var(--click-badge-solid-color-text-disabled);
      }
    }

    @include variants.variant('cuiStateWarning') {
      .cuiCloseIcon {
        color: var(--click-badge-solid-color-text-warning);
      }
    }

    @include variants.variant('cuiStateInfo') {
      .cuiCloseIcon {
        color: var(--click-badge-solid-color-text-info);
      }
    }
  }
}

/* Variant-specific styles for card-top-badge */
.cuiWrapper[data-cui-variant="card-top-badge"] {
  /* Position the badge at the top center of the card */
  position: absolute;
  top: 0;
  left: 50%;
  transform: translate(-50%, -50%);
}

/* Selected state for card-top-badge */
.cuiWrapper[data-cui-variant="card-top-badge"][data-cui-selected="true"] {
  border-color: var(--click-button-basic-color-primary-stroke-active);
}

/* Active state when the sibling div is active */
div:active + .cuiWrapper[data-cui-variant="card-top-badge"] {
  border-color: var(--click-button-basic-color-primary-stroke-active);
}
