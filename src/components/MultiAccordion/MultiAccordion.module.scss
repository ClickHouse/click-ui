@use "cui-mixins" as mixins;
@use "cui-variants" as variants;

.cuiAccordionRoot {
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;

  &.cuiFillWidth {
    width: 100%;
  }

  // Gap variants - using :where() for low specificity
  @include variants.variant("cuiGapNone") {
    gap: var(--click-container-gap-none);
  }

  @include variants.variant("cuiGapXs") {
    gap: var(--click-container-gap-xs);
  }

  @include variants.variant("cuiGapSm") {
    gap: var(--click-container-gap-sm);
  }

  @include variants.variant("cuiGapMd") {
    gap: var(--click-container-gap-md);
  }

  @include variants.variant("cuiGapLg") {
    gap: var(--click-container-gap-lg);
  }

  @include variants.variant("cuiGapXl") {
    gap: var(--click-container-gap-xl);
  }
}

.cuiAccordionItem {
  border-radius: var(--border-radii-1);
  background-color: var(--global-color-background-default);

  &.cuiShowBorder {
    border: 1px solid var(--global-color-stroke-default);
  }

  &.cuiFillWidth {
    width: 100%;
  }
}

.cuiAccordionTrigger {
  @include mixins.cuiAccordionTriggerBase;
  width: 100%;
  border-radius: inherit;
  display: grid;
  grid-template-columns: auto 1fr auto;

  &[data-state="open"] {
    border-bottom-left-radius: 0px;
    border-bottom-right-radius: 0px;

    [data-icon="accordion-status"] {
      color: var(--global-color-accent-default);
    }
  }

  [data-icon="accordion-status"] {
    color: var(--global-color-stroke-intense);
  }

  &:hover {
    background: var(--global-color-stroke-default);
    cursor: pointer;
  }

  // Size variants - using :where() for low specificity
  @include variants.variant("cuiSizeNone") {
    @include mixins.cuiAccordionTriggerSize("sm");
    padding: var(--click-container-space-sm);
  }

  @include variants.variant("cuiSizeSm") {
    @include mixins.cuiAccordionTriggerSize("sm");
    padding: var(--click-container-space-sm);
  }

  @include variants.variant("cuiSizeMd") {
    @include mixins.cuiAccordionTriggerSize("md");
    padding: var(--click-container-space-md);
  }

  @include variants.variant("cuiSizeLg") {
    @include mixins.cuiAccordionTriggerSize("lg");
    padding: var(--click-container-space-lg);
  }

  // Color link variants with size combinations
  @include variants.variant("cuiColorLink") {
    @include mixins.cuiAccordionTriggerSize("md", "link");

    @include variants.variant("cuiSizeNone") {
      @include mixins.cuiAccordionTriggerSize("sm", "link");
    }

    @include variants.variant("cuiSizeSm") {
      @include mixins.cuiAccordionTriggerSize("sm", "link");
    }

    @include variants.variant("cuiSizeMd") {
      @include mixins.cuiAccordionTriggerSize("md", "link");
    }

    @include variants.variant("cuiSizeLg") {
      @include mixins.cuiAccordionTriggerSize("lg", "link");
    }
  }
}

.cuiAccordionIconsWrapper {
  display: flex;
  align-items: center;
  justify-content: center;
}

.cuiAccordionIconWrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 200ms cubic-bezier(0.87, 0, 0.13, 1);

  .cuiAccordionTrigger[data-state="open"] & {
    transform: rotate(90deg);
  }
}

.cuiCustomIcon {
  &[data-cui-completed="true"] {
    svg path {
      stroke: var(--global-color-background-default) !important;
      fill: var(--global-color-accent-default) !important;

      &:first-of-type {
        stroke: var(--global-color-accent-default) !important;
      }
    }
  }
}

.cuiAccordionContent {
  padding-top: 0;

  // Padding variants - using :where() for low specificity
  @include variants.variant("cuiPaddingNone") {
    padding: var(--click-container-space-none);
    padding-top: 0;
  }

  @include variants.variant("cuiPaddingSm") {
    padding: var(--click-container-space-sm);
    padding-top: 0;
  }

  @include variants.variant("cuiPaddingMd") {
    padding: var(--click-container-space-md);
    padding-top: 0;
  }

  @include variants.variant("cuiPaddingLg") {
    padding: var(--click-container-space-lg);
    padding-top: 0;
  }
}

.cuiAccordionItemTitle {
  overflow: hidden;
}
